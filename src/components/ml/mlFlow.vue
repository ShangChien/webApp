<script setup lang='ts'>
import { ref } from 'vue'
import { NButton } from 'naive-ui'
import { Pane, Splitpanes } from 'splitpanes'
import nglViewer from '@/components/nglViewer.vue'
import mlTable from '@/components/ml/mlTable.vue'
import modelDetail from '@/components/ml/modelDetail.vue'

const molStr = ref<string>(`230112-EBL-0009

Created by GaussView 6.0.16
 93103  0  0  0  0  0  0  0  0  0    0
   -1.6822   -0.1126    0.4068 N   0  0  0  0  0  0  0  0  0  0  0  0
   -1.9841    1.2127    0.0021 C   0  0  0  0  0  0  0  0  0  0  0  0
   -2.6132   -1.1705    0.2066 C   0  0  0  0  0  0  0  0  0  0  0  0
   -1.0003    2.0438   -0.5570 C   0  0  0  0  0  0  0  0  0  0  0  0
   -1.3048    3.3522   -0.9205 C   0  0  0  0  0  0  0  0  0  0  0  0
   -2.5943    3.8843   -0.7610 C   0  0  0  0  0  0  0  0  0  0  0  0
   -3.5714    3.0407   -0.2041 C   0  0  0  0  0  0  0  0  0  0  0  0
   -3.2773    1.7373    0.1792 C   0  0  0  0  0  0  0  0  0  0  0  0
   -3.4548   -1.2143   -0.9156 C   0  0  0  0  0  0  0  0  0  0  0  0
   -4.3527   -2.2642   -1.0829 C   0  0  0  0  0  0  0  0  0  0  0  0
   -4.4364   -3.3172   -0.1566 C   0  0  0  0  0  0  0  0  0  0  0  0
   -3.5788   -3.2672    0.9560 C   0  0  0  0  0  0  0  0  0  0  0  0
   -2.6903   -2.2142    1.1420 C   0  0  0  0  0  0  0  0  0  0  0  0
    2.4045   -1.1547    1.2759 C   0  0  0  0  0  0  0  0  0  0  0  0
    1.6809   -1.7435    0.2274 C   0  0  0  0  0  0  0  0  0  0  0  0
    0.3532   -1.4047   -0.0410 C   0  0  0  0  0  0  0  0  0  0  0  0
   -0.3369   -0.4580    0.7273 C   0  0  0  0  0  0  0  0  0  0  0  0
    0.3455    0.1330    1.8088 C   0  0  0  0  0  0  0  0  0  0  0  0
    1.6875   -0.2315    2.0392 C   0  0  0  0  0  0  0  0  0  0  0  0
    0.0207    1.0958    2.8499 C   0  0  0  0  0  0  0  0  0  0  0  0
    1.1988    1.2347    3.6077 C   0  0  0  0  0  0  0  0  0  0  0  0
    2.2121    0.4406    3.1201 O   0  0  0  0  0  0  0  0  0  0  0  0
   -1.1112    1.8297    3.2308 C   0  0  0  0  0  0  0  0  0  0  0  0
   -1.0212    2.6677    4.3412 C   0  0  0  0  0  0  0  0  0  0  0  0
    0.1717    2.7861    5.0721 C   0  0  0  0  0  0  0  0  0  0  0  0
    1.3114    2.0644    4.7136 C   0  0  0  0  0  0  0  0  0  0  0  0
    3.8223   -1.4948    1.5642 C   0  0  0  0  0  0  0  0  0  0  0  0
    4.1962   -1.9197    2.8498 C   0  0  0  0  0  0  0  0  0  0  0  0
    5.5046   -2.2986    3.1390 C   0  0  0  0  0  0  0  0  0  0  0  0
    6.4808   -2.2503    2.1425 C   0  0  0  0  0  0  0  0  0  0  0  0
    6.1410   -1.8018    0.8687 C   0  0  0  0  0  0  0  0  0  0  0  0
    4.8262   -1.4220    0.5739 C   0  0  0  0  0  0  0  0  0  0  0  0
   -5.3912   -4.4375   -0.3452 C   0  0  0  0  0  0  0  0  0  0  0  0
   -2.9127    5.2768   -1.1621 C   0  0  0  0  0  0  0  0  0  0  0  0
   -5.6643   -4.9485   -1.6260 C   0  0  0  0  0  0  0  0  0  0  0  0
   -6.5620   -6.0001   -1.8033 C   0  0  0  0  0  0  0  0  0  0  0  0
   -7.2068   -6.5685   -0.7032 C   0  0  0  0  0  0  0  0  0  0  0  0
   -6.9453   -6.0733    0.5756 C   0  0  0  0  0  0  0  0  0  0  0  0
   -6.0496   -5.0198    0.7519 C   0  0  0  0  0  0  0  0  0  0  0  0
    4.0013    1.4753   -0.2404 C   0  0  0  0  0  0  0  0  0  0  0  0
    3.6448    2.6818   -0.8397 C   0  0  0  0  0  0  0  0  0  0  0  0
    3.4724    2.7868   -2.2315 C   0  0  0  0  0  0  0  0  0  0  0  0
    3.6588    1.6796   -3.0544 C   0  0  0  0  0  0  0  0  0  0  0  0
    4.0163    0.4547   -2.4784 C   0  0  0  0  0  0  0  0  0  0  0  0
    4.1781    0.3667   -1.0720 C   0  0  0  0  0  0  0  0  0  0  0  0
    4.2934   -0.8617   -3.0155 C   0  0  0  0  0  0  0  0  0  0  0  0
    4.6151   -1.6941   -1.9121 C   0  0  0  0  0  0  0  0  0  0  0  0
    4.5352   -0.9429   -0.7368 N   0  0  0  0  0  0  0  0  0  0  0  0
    4.2921   -1.4030   -4.3062 C   0  0  0  0  0  0  0  0  0  0  0  0
    4.6033   -2.7493   -4.4787 C   0  0  0  0  0  0  0  0  0  0  0  0
    4.9124   -3.5602   -3.3732 C   0  0  0  0  0  0  0  0  0  0  0  0
    4.9215   -3.0479   -2.0770 C   0  0  0  0  0  0  0  0  0  0  0  0
   -2.3305    5.8522   -2.3051 C   0  0  0  0  0  0  0  0  0  0  0  0
   -2.6280    7.1609   -2.6820 C   0  0  0  0  0  0  0  0  0  0  0  0
   -3.5186    7.9261   -1.9268 C   0  0  0  0  0  0  0  0  0  0  0  0
   -4.1068    7.3689   -0.7899 C   0  0  0  0  0  0  0  0  0  0  0  0
   -3.8060    6.0613   -0.4117 C   0  0  0  0  0  0  0  0  0  0  0  0
    0.0079    1.6701   -0.7010 H   0  0  0  0  0  0  0  0  0  0  0  0
   -0.5138    3.9762   -1.3266 H   0  0  0  0  0  0  0  0  0  0  0  0
   -4.5870    3.4064   -0.0806 H   0  0  0  0  0  0  0  0  0  0  0  0
   -4.0550    1.1134    0.6082 H   0  0  0  0  0  0  0  0  0  0  0  0
   -3.4101   -0.4190   -1.6524 H   0  0  0  0  0  0  0  0  0  0  0  0
   -5.0101   -2.2592   -1.9478 H   0  0  0  0  0  0  0  0  0  0  0  0
   -3.5983   -4.0740    1.6832 H   0  0  0  0  0  0  0  0  0  0  0  0
   -2.0413   -2.1977    2.0122 H   0  0  0  0  0  0  0  0  0  0  0  0
    2.1744   -2.4748   -0.4047 H   0  0  0  0  0  0  0  0  0  0  0  0
   -0.1606   -1.8748   -0.8731 H   0  0  0  0  0  0  0  0  0  0  0  0
   -2.0362    1.7561    2.6712 H   0  0  0  0  0  0  0  0  0  0  0  0
   -1.8910    3.2431    4.6451 H   0  0  0  0  0  0  0  0  0  0  0  0
    0.2111    3.4496    5.9314 H   0  0  0  0  0  0  0  0  0  0  0  0
    2.2423    2.1398    5.2656 H   0  0  0  0  0  0  0  0  0  0  0  0
    3.4369   -1.9661    3.6238 H   0  0  0  0  0  0  0  0  0  0  0  0
    5.7596   -2.6355    4.1399 H   0  0  0  0  0  0  0  0  0  0  0  0
    7.5044   -2.5428    2.3587 H   0  0  0  0  0  0  0  0  0  0  0  0
    6.8923   -1.7238    0.0887 H   0  0  0  0  0  0  0  0  0  0  0  0
   -5.1475   -4.5339   -2.4871 H   0  0  0  0  0  0  0  0  0  0  0  0
   -6.7505   -6.3826   -2.8032 H   0  0  0  0  0  0  0  0  0  0  0  0
   -7.9058   -7.3890   -0.8411 H   0  0  0  0  0  0  0  0  0  0  0  0
   -7.4475   -6.5017    1.4392 H   0  0  0  0  0  0  0  0  0  0  0  0
   -5.8762   -4.6249    1.7492 H   0  0  0  0  0  0  0  0  0  0  0  0
    4.1325    1.4010    0.8342 H   0  0  0  0  0  0  0  0  0  0  0  0
    3.5002    3.5592   -0.2152 H   0  0  0  0  0  0  0  0  0  0  0  0
    3.1967    3.7432   -2.6671 H   0  0  0  0  0  0  0  0  0  0  0  0
    3.5314    1.7646   -4.1306 H   0  0  0  0  0  0  0  0  0  0  0  0
    4.0487   -0.7799   -5.1630 H   0  0  0  0  0  0  0  0  0  0  0  0
    4.6060   -3.1792   -5.4764 H   0  0  0  0  0  0  0  0  0  0  0  0
    5.1491   -4.6093   -3.5288 H   0  0  0  0  0  0  0  0  0  0  0  0
    5.1619   -3.6773   -1.2259 H   0  0  0  0  0  0  0  0  0  0  0  0
   -1.6581    5.2577   -2.9174 H   0  0  0  0  0  0  0  0  0  0  0  0
   -2.1700    7.5802   -3.5742 H   0  0  0  0  0  0  0  0  0  0  0  0
   -3.7519    8.9458   -2.2212 H   0  0  0  0  0  0  0  0  0  0  0  0
   -4.7953    7.9571   -0.1885 H   0  0  0  0  0  0  0  0  0  0  0  0
   -4.2484    5.6496    0.4913 H   0  0  0  0  0  0  0  0  0  0  0  0
  1  2  1  0  0  0  0
  1  3  1  0  0  0  0
  1 17  1  0  0  0  0
  2  4  4  0  0  0  0
  2  8  4  0  0  0  0
  3  9  4  0  0  0  0
  3 13  4  0  0  0  0
  4  5  4  0  0  0  0
  4 58  1  0  0  0  0
  5  6  4  0  0  0  0
  5 59  1  0  0  0  0
  6  7  4  0  0  0  0
  6 34  1  0  0  0  0
  7  8  4  0  0  0  0
  7 60  1  0  0  0  0
  8 61  1  0  0  0  0
  9 10  4  0  0  0  0
  9 62  1  0  0  0  0
 10 11  4  0  0  0  0
 10 63  1  0  0  0  0
 11 12  4  0  0  0  0
 11 33  1  0  0  0  0
 12 13  4  0  0  0  0
 12 64  1  0  0  0  0
 13 65  1  0  0  0  0
 14 15  4  0  0  0  0
 14 19  4  0  0  0  0
 14 27  1  0  0  0  0
 15 16  4  0  0  0  0
 15 66  1  0  0  0  0
 16 17  4  0  0  0  0
 16 67  1  0  0  0  0
 17 18  4  0  0  0  0
 18 19  4  0  0  0  0
 18 20  1  0  0  0  0
 19 22  1  0  0  0  0
 20 21  4  0  0  0  0
 20 23  4  0  0  0  0
 21 22  1  0  0  0  0
 21 26  4  0  0  0  0
 23 24  4  0  0  0  0
 23 68  1  0  0  0  0
 24 25  4  0  0  0  0
 24 69  1  0  0  0  0
 25 26  4  0  0  0  0
 25 70  1  0  0  0  0
 26 71  1  0  0  0  0
 27 28  4  0  0  0  0
 27 32  4  0  0  0  0
 28 29  4  0  0  0  0
 28 72  1  0  0  0  0
 29 30  4  0  0  0  0
 29 73  1  0  0  0  0
 30 31  4  0  0  0  0
 30 74  1  0  0  0  0
 31 32  4  0  0  0  0
 31 75  1  0  0  0  0
 32 48  1  0  0  0  0
 33 35  4  0  0  0  0
 33 39  4  0  0  0  0
 34 53  4  0  0  0  0
 34 57  4  0  0  0  0
 35 36  4  0  0  0  0
 35 76  1  0  0  0  0
 36 37  4  0  0  0  0
 36 77  1  0  0  0  0
 37 38  4  0  0  0  0
 37 78  1  0  0  0  0
 38 39  4  0  0  0  0
 38 79  1  0  0  0  0
 39 80  1  0  0  0  0
 40 41  4  0  0  0  0
 40 45  4  0  0  0  0
 40 81  1  0  0  0  0
 41 42  4  0  0  0  0
 41 82  1  0  0  0  0
 42 43  4  0  0  0  0
 42 83  1  0  0  0  0
 43 44  4  0  0  0  0
 43 84  1  0  0  0  0
 44 45  4  0  0  0  0
 44 46  1  0  0  0  0
 45 48  1  0  0  0  0
 46 47  4  0  0  0  0
 46 49  4  0  0  0  0
 47 48  1  0  0  0  0
 47 52  4  0  0  0  0
 49 50  4  0  0  0  0
 49 85  1  0  0  0  0
 50 51  4  0  0  0  0
 50 86  1  0  0  0  0
 51 52  4  0  0  0  0
 51 87  1  0  0  0  0
 52 88  1  0  0  0  0
 53 54  4  0  0  0  0
 53 89  1  0  0  0  0
 54 55  4  0  0  0  0
 54 90  1  0  0  0  0
 55 56  4  0  0  0  0
 55 91  1  0  0  0  0
 56 57  4  0  0  0  0
 56 92  1  0  0  0  0
 57 93  1  0  0  0  0
M  END
`)
const fileType = ref('')
const task = ref('')
const models = ref<string[]>([])

const result = ref<{ name: string; homo: number; lumo: number; eg: number; key: number }[]>([
  { key: 0, name: 'B222', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'B222', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'B222', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'B222', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
  { key: 0, name: 'E322', homo: 98, lumo: 60, eg: 70 },
])
</script>

<template>
  <Splitpanes class="h-full w-full text-lg default-theme " horizontal>
    <Pane min-size="20" max-size="70">
      <div class="h-full w-full flex flex-nowrap justify-start items-center box-border">
        <div class="h-full flex-auto aspect-ratio-square box-border pr-1 pb-1 bg-slate-1">
          <div v-if="molStr !== ''" class="h-full w-full">
            <nglViewer :data="molStr" class="w-full h-full " />
          </div>
          <div v-else class="flex justify-center items-center">
            <div class="i-noto-hamburger animate-bounce-alt animate-count-infinite animate-duration-1.5s text-4xl" />
            <span>no data</span>
          </div>
        </div>
        <div class="h-full w-80% flex-auto box-border rd-1 bg-slate-1 pb-1">
          <div class="rd-1 bg-slate-2 h-full box-border flex flex-col ">
            <div class="flex flex-none justify-end items-center gap-2 p-1 ">
              <NButton type="info" secondary class=" text-lg">
                predict current
              </NButton>
              <NButton type="info" class="text-lg">
                predict all
              </NButton>
            </div>
            <div class="p-1 flex-auto h-80% box-border">
              <div class="rd-1 bg-slate-1 p-2 flex-auto h-full box-border">
                <modelDetail v-model:task="task" v-model:fileType="fileType" v-model:models="models" class="box-border" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </Pane>
    <Pane max-size="70">
      <mlTable class="flex-auto bg-slate-1 py-1 h-full" :data="result" />
    </Pane>
  </Splitpanes>
</template>

<style>
@import 'splitpanes/dist/splitpanes.css';

.splitpanes__pane {
  display: flex;
  justify-content: center;
  align-items: center;
}
</style>
